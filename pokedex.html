<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokedex - Pokemon Index</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Skip to Main Content Link (visible only on focus) -->
    <a href="#main" class="skip-link">Skip to Main Content</a>

    <header>
        <h1>Interactive Pokedex</h1>
        
        <!-- Navigation with Flexbox -->
        <nav>
            <ul class="nav-list">
                <li><a href="index.html">Home</a></li>
                <li><a href="gallery.html">Legendaries</a></li>
                <li><a href="pokedex.html" class="active">Pokedex</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content -->
    <main id="main" class="pokedex-main">
        <div class="logo">
            <img src="https://fontmeme.com/permalink/220124/80802f2a3673315b1eb10e0d5d0a6b57.png" alt="pokemon-font" border="0">
        </div>
        
        <div class="search-container">
            <input id="pokemon-name" type="text" placeholder="Pokemon Name or ID">
            <div class="ball-container" id="search" role="button" tabindex="0" aria-label="Search Pokemon">
                <div class="upper-half-ball"></div>
                <div class="bottom-half-ball"></div>
                <div class="center-line"></div>
                <div class="center-ball"></div>
            </div>
        </div>

        <div id="pokedex">
            <!-- LEFT PANEL -->
            <div id="left-panel">
                <div class="lights-container">
                    <svg class="left-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 260 150">
                        <polyline points="0, 75 260, 0 260, 150" style="fill:#a00313;stroke:black;stroke-width:3"/>
                    </svg>
                    <div class="big-light-boarder">
                        <div class="big-light blue">
                            <div class="big-dot light-blue"></div>
                        </div>
                    </div>
                    <div class="small-lights-container">
                        <div class="small-light red">
                            <div class="dot light-red"></div>
                        </div>
                        <div class="small-light yellow">
                            <div class="dot light-yellow"></div>
                        </div>
                        <div class="small-light green">
                            <div class="dot light-green"></div>
                        </div>
                    </div>
                </div>

                <div class="screen-container">
                    <div class="screen">
                        <div class="top-screen-lights">
                            <div class="mini-light red"></div>
                            <div class="mini-light red"></div>
                        </div>
                        <div id="main-screen"></div>
                        <div class="bottom-screen-lights">
                            <div class="small-light red">
                                <div class="dot light-red"></div>
                            </div>
                            <div class="line"></div>
                            <div class="line"></div>
                        </div>
                    </div>
                </div>

                <div class="buttons-container">
                    <div class="upper-buttons-container">
                        <div class="big-button"></div>
                        <div class="long-buttons-container">
                            <div class="long-button red"></div>
                            <div class="long-button light-blue"></div>
                        </div>
                    </div>
                    <div class="nav-buttons-container">
                        <div class="dots-container">
                            <div class="dot"></div>
                            <div class="dot"></div>
                        </div>
                        <div class="right-nav-container">
                            <div class="nav-button">
                                <div class="nav-button-vertical"></div>
                                <div class="nav-button-horizontal"></div>
                                <div class="nav-center-circle">
                                    <div class="border-top"></div>
                                    <div class="border-bottom"></div>
                                </div>
                            </div>
                        </div>
                        <div class="bottom-right-nav-container">
                            <div class="dots-container">
                                <div class="small-light red">
                                    <div class="dot light-red"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RIGHT PANEL -->
            <div id="right-panel">
                <div class="top-screen-container">
                    <div class="right-panel-screen" id="pokemon-description">
                        <p>WELCOME!</p>
                        <p>SEARCH FOR A POKEMON</p>
                    </div>
                </div>
                
                <div class="square-buttons-container">
                    <div class="blue-squares-container">
                        <div class="blue-square"></div>
                        <div class="blue-square"></div>
                        <div class="blue-square"></div>
                        <div class="blue-square"></div>
                        <div class="blue-square"></div>
                        <div class="blue-square"></div>
                        <div class="blue-square"></div>
                        <div class="blue-square"></div>
                        <div class="blue-square"></div>
                        <div class="blue-square"></div>
                    </div>
                </div>

                <div class="center-buttons-container">
                    <div class="center-left-container">
                        <div class="small-reds-container">
                            <div class="small-light red">
                                <div class="dot light-red"></div>
                            </div>
                            <div class="small-light red">
                                <div class="dot light-red"></div>
                            </div>
                        </div>
                        <div class="white-squares-container">
                            <div class="white-square"></div>
                            <div class="white-square"></div>
                        </div>
                    </div>
                    <div class="center-right-container">
                        <div class="thin-buttons-container">
                            <div class="thin-button"></div>
                            <div class="thin-button"></div>
                        </div>
                        <div class="yellow-button">
                            <div class="big-dot light-yellow"></div>
                        </div>
                    </div>
                </div>

                <div class="bottom-screens-container">
                    <div class="right-panel-screen green-screen">
                        <p id="name-screen">???</p>
                    </div>
                    <div class="right-panel-screen green-screen">
                        <p id="id-screen">000</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 Legendary Pokemon Index. Fan Site - Not affiliated with Nintendo, Game Freak, or The Pokemon Company.</p>
    </footer>

    <script>
        const searchButton = document.getElementById("search");
        const searchInput = document.getElementById("pokemon-name");
        const mainScreen = document.getElementById("main-screen");
        const pokemonDescription = document.getElementById("pokemon-description");
        const nameScreen = document.getElementById("name-screen");
        const idScreen = document.getElementById("id-screen");

        searchButton.addEventListener("click", searchPokemon);
        searchInput.addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                searchPokemon();
            }
        });

        async function searchPokemon() {
            const pokemonNameOrId = searchInput.value.toLowerCase().trim();
            if (!pokemonNameOrId) return;

            try {
                const response = await fetch(`https://pokeapi.co/api/v2/pokemon/${pokemonNameOrId}`);
                if (!response.ok) throw new Error("Pokemon not found");
                
                const pokemon = await response.json();
                
                // Update main screen with Pokemon image
                mainScreen.style.backgroundImage = `url(${pokemon.sprites.other['official-artwork'].front_default})`;
                
                // Update name and ID
                nameScreen.textContent = pokemon.name.toUpperCase();
                idScreen.textContent = String(pokemon.id).padStart(3, '0');
                
                // Get Pokemon species data for description
                const speciesResponse = await fetch(pokemon.species.url);
                const speciesData = await speciesResponse.json();
                const description = speciesData.flavor_text_entries.find(entry => entry.language.name === 'en');
                
                pokemonDescription.innerHTML = `<p>${description ? description.flavor_text.replace(/\f/g, ' ') : 'No description available.'}</p>`;
                
            } catch (error) {
                pokemonDescription.innerHTML = `<p>ERROR: POKEMON NOT FOUND!</p><p>TRY AGAIN</p>`;
                nameScreen.textContent = "???";
                idScreen.textContent = "000";
                mainScreen.style.backgroundImage = "url(https://assets.pokemon.com/assets/cms2/img/pokedex/full/001.png)";
            }
        }
    </script>
</body>
</html>
